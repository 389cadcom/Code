<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Array</title>
<script src="res/jquery.min.js" charset="utf-8"></script>
</head>
<form action="http://10.206.16.118:3000/upload/" method="post" enctype="multipart/form-data">
	<input type="file" name="upload" id="upload" />
	<input type="file" name="upload" id="upload" />
	<input type="submit" value="提交"/>
</form>
<body>

<script>
//TODO Ajax设置请求头部、获取响应头部，赋值前必须已经调用了open()打开了一个URL
/*var xhr = new XMLHttpRequest();
xhr.onreadystatechange = function(ret){
	if(xhr.status == 200 && xhr.readyState == 4){
		document.write(xhr.response)
	}
}
//xhr.open('GET', 'http://10.206.16.118:3000/api/?name=yu')
xhr.open('POST', 'http://10.206.16.118:3000/api/')														//xhr.send("name=yu")		
//xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");	
var form = document.getElementById("info");
var data = new FormData();
data.append("name", document.getElementById("name").value);
data.append("age", 33);
data.append("dex", 1);
xhr.send(data);

xhr.addEventListener('load', function(res){
	var allHeaders = xhr.getAllResponseHeaders().toLowerCase();
	console.log(res)
	console.log(allHeaders)
});*/

$.ajax({
	type:"post",
	url:"http://10.206.16.118:3000/api/",
	data: {name:'yu', age:33, dex:1},
/*	data: JSON.stringify({name:'yu', age:33, dex:1}),
	headers: {
		'Accept': "application/json; charset=utf-8",
        'Content-Type':'application/json'
	},*/
	success: function(res){
		console.log(res);
	}
});

//TODO fetch
/*fetch('json.json').then(res=>{
	//console.log(res.clone())
	
	var headers = res.headers;
	headers.forEach(( val, key, arr)=>{
		console.log(key + '\t\t\t\t' + val);
	})
	return res.json();
}).then(data=>{
})*/


</script>

</body>
</html>